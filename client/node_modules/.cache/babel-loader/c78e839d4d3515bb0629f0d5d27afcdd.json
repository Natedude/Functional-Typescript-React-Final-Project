{"ast":null,"code":"/*\n * This massive regex tries to cover all the following cases.\n *\n * import './path';\n * import defaultImport from './path';\n * import { namedImport } from './path';\n * import { namedImport as renamendImport } from './path';\n * import * as namespaceImport from './path';\n * import defaultImport, { namedImport } from './path';\n * import defaultImport, { namedImport as renamendImport } from './path';\n * import defaultImport, * as namespaceImport from './path';\n */\nconst IMPORT_STATEMENT_REGEX = /^import(?:(?:[\\s]+[\\w]+|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\{[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?(?:[\\s]*,[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?)*[\\s]*}|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\*[\\s]+as[\\s]+[\\w]+)[\\s]+from)?(?:[\\s]*)(\"([^\"\\\\]|\\\\.)+\"|'([^'\\\\]|\\\\.)+')(?:[\\s]*);?/; // tslint:disable-line:max-line-length\n\nexport const splitImportStatements = (source, url) => {\n  const importStatements = [];\n  let sourceWithoutImportStatements = source.replace(/^[\\s]+/, '');\n  let result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n\n  while (result !== null) {\n    const unresolvedUrl = result[1].slice(1, -1);\n    const importStatementWithResolvedUrl = result[0].replace(/([\\s]+)?;?$/, '').replace(unresolvedUrl, new URL(unresolvedUrl, url).toString());\n    importStatements.push(importStatementWithResolvedUrl);\n    sourceWithoutImportStatements = sourceWithoutImportStatements.slice(result[0].length).replace(/^[\\s]+/, '');\n    result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n  }\n\n  return [importStatements.join(';'), sourceWithoutImportStatements];\n};","map":{"version":3,"sources":["../../../src/helpers/split-import-statements.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;AAWG;AACH,MAAM,sBAAsB,GAAG,sPAA/B,C,CAAuR;;AAEvR,OAAO,MAAM,qBAAqB,GAAG,CAAC,MAAD,EAAiB,GAAjB,KAAkD;AACnF,QAAM,gBAAgB,GAAG,EAAzB;AAEA,MAAI,6BAA6B,GAAG,MAAM,CAAC,OAAP,CAAe,QAAf,EAAyB,EAAzB,CAApC;AACA,MAAI,MAAM,GAAG,6BAA6B,CAAC,KAA9B,CAAoC,sBAApC,CAAb;;AAEA,SAAO,MAAM,KAAK,IAAlB,EAAwB;AACpB,UAAM,aAAa,GAAG,MAAM,CAAC,CAAD,CAAN,CAAU,KAAV,CAAgB,CAAhB,EAAmB,CAAC,CAApB,CAAtB;AAEA,UAAM,8BAA8B,GAAG,MAAM,CAAC,CAAD,CAAN,CAClC,OADkC,CAC1B,aAD0B,EACX,EADW,EAElC,OAFkC,CAE1B,aAF0B,EAEX,IAAI,GAAJ,CAAQ,aAAR,EAAuB,GAAvB,EAA4B,QAA5B,EAFW,CAAvC;AAGA,IAAA,gBAAgB,CAAC,IAAjB,CAAsB,8BAAtB;AAEA,IAAA,6BAA6B,GAAG,6BAA6B,CAAC,KAA9B,CAAoC,MAAM,CAAC,CAAD,CAAN,CAAU,MAA9C,EAAsD,OAAtD,CAA8D,QAA9D,EAAwE,EAAxE,CAAhC;AACA,IAAA,MAAM,GAAG,6BAA6B,CAAC,KAA9B,CAAoC,sBAApC,CAAT;AACH;;AAED,SAAO,CAAC,gBAAgB,CAAC,IAAjB,CAAsB,GAAtB,CAAD,EAA6B,6BAA7B,CAAP;AACH,CAnBM","sourceRoot":"","sourcesContent":["/*\n * This massive regex tries to cover all the following cases.\n *\n * import './path';\n * import defaultImport from './path';\n * import { namedImport } from './path';\n * import { namedImport as renamendImport } from './path';\n * import * as namespaceImport from './path';\n * import defaultImport, { namedImport } from './path';\n * import defaultImport, { namedImport as renamendImport } from './path';\n * import defaultImport, * as namespaceImport from './path';\n */\nconst IMPORT_STATEMENT_REGEX = /^import(?:(?:[\\s]+[\\w]+|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\{[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?(?:[\\s]*,[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?)*[\\s]*}|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\*[\\s]+as[\\s]+[\\w]+)[\\s]+from)?(?:[\\s]*)(\"([^\"\\\\]|\\\\.)+\"|'([^'\\\\]|\\\\.)+')(?:[\\s]*);?/; // tslint:disable-line:max-line-length\nexport const splitImportStatements = (source, url) => {\n    const importStatements = [];\n    let sourceWithoutImportStatements = source.replace(/^[\\s]+/, '');\n    let result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n    while (result !== null) {\n        const unresolvedUrl = result[1].slice(1, -1);\n        const importStatementWithResolvedUrl = result[0]\n            .replace(/([\\s]+)?;?$/, '')\n            .replace(unresolvedUrl, new URL(unresolvedUrl, url).toString());\n        importStatements.push(importStatementWithResolvedUrl);\n        sourceWithoutImportStatements = sourceWithoutImportStatements.slice(result[0].length).replace(/^[\\s]+/, '');\n        result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n    }\n    return [importStatements.join(';'), sourceWithoutImportStatements];\n};\n//# sourceMappingURL=split-import-statements.js.map"]},"metadata":{},"sourceType":"module"}