{"ast":null,"code":"/*\n * Firefox up to version 67 didn't fully support the copyFromChannel() and copyToChannel() methods. Therefore testing one of those methods\n * is enough to know if the other one is supported as well.\n */\nexport const createTestAudioBufferCopyChannelMethodsSubarraySupport = nativeOfflineAudioContextConstructor => {\n  return () => {\n    if (nativeOfflineAudioContextConstructor === null) {\n      return false;\n    }\n\n    const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n    const nativeAudioBuffer = nativeOfflineAudioContext.createBuffer(1, 1, 44100); // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n\n    if (nativeAudioBuffer.copyToChannel === undefined) {\n      return true;\n    }\n\n    const source = new Float32Array(2);\n\n    try {\n      nativeAudioBuffer.copyFromChannel(source, 0, 0);\n    } catch {\n      return false;\n    }\n\n    return true;\n  };\n};","map":{"version":3,"sources":["../../../src/factories/test-audio-buffer-copy-channel-methods-subarray-support.ts"],"names":[],"mappings":"AAEA;;;AAGG;AACH,OAAO,MAAM,sDAAsD,GAC/D,oCAD4H,IAE5H;AACA,SAAO,MAAK;AACR,QAAI,oCAAoC,KAAK,IAA7C,EAAmD;AAC/C,aAAO,KAAP;AACH;;AAED,UAAM,yBAAyB,GAAG,IAAI,oCAAJ,CAAyC,CAAzC,EAA4C,CAA5C,EAA+C,KAA/C,CAAlC;AACA,UAAM,iBAAiB,GAAG,yBAAyB,CAAC,YAA1B,CAAuC,CAAvC,EAA0C,CAA1C,EAA6C,KAA7C,CAA1B,CANQ,CAQR;;AACA,QAAI,iBAAiB,CAAC,aAAlB,KAAoC,SAAxC,EAAmD;AAC/C,aAAO,IAAP;AACH;;AAED,UAAM,MAAM,GAAG,IAAI,YAAJ,CAAiB,CAAjB,CAAf;;AAEA,QAAI;AACA,MAAA,iBAAiB,CAAC,eAAlB,CAAkC,MAAlC,EAA0C,CAA1C,EAA6C,CAA7C;AACH,KAFD,CAEE,MAAM;AACJ,aAAO,KAAP;AACH;;AAED,WAAO,IAAP;AACH,GAtBD;AAuBH,CA1BM","sourceRoot":"","sourcesContent":["/*\n * Firefox up to version 67 didn't fully support the copyFromChannel() and copyToChannel() methods. Therefore testing one of those methods\n * is enough to know if the other one is supported as well.\n */\nexport const createTestAudioBufferCopyChannelMethodsSubarraySupport = (nativeOfflineAudioContextConstructor) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n        const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        const nativeAudioBuffer = nativeOfflineAudioContext.createBuffer(1, 1, 44100);\n        // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n        if (nativeAudioBuffer.copyToChannel === undefined) {\n            return true;\n        }\n        const source = new Float32Array(2);\n        try {\n            nativeAudioBuffer.copyFromChannel(source, 0, 0);\n        }\n        catch {\n            return false;\n        }\n        return true;\n    };\n};\n//# sourceMappingURL=test-audio-buffer-copy-channel-methods-subarray-support.js.map"]},"metadata":{},"sourceType":"module"}