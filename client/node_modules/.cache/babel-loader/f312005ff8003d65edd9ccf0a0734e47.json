{"ast":null,"code":"import { WaveShaper } from \"./WaveShaper\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { SignalOperator } from \"./SignalOperator\";\n/**\n * Pow applies an exponent to the incoming signal. The incoming signal must be AudioRange [-1, 1]\n *\n * @example\n * const pow = new Tone.Pow(2);\n * const sig = new Tone.Signal(0.5).connect(pow);\n * // output of pow is 0.25.\n * @category Signal\n */\n\nexport class Pow extends SignalOperator {\n  constructor() {\n    super(Object.assign(optionsFromArguments(Pow.getDefaults(), arguments, [\"value\"])));\n    this.name = \"Pow\";\n    const options = optionsFromArguments(Pow.getDefaults(), arguments, [\"value\"]);\n    this._exponentScaler = this.input = this.output = new WaveShaper({\n      context: this.context,\n      mapping: this._expFunc(options.value),\n      length: 8192\n    });\n    this._exponent = options.value;\n  }\n\n  static getDefaults() {\n    return Object.assign(SignalOperator.getDefaults(), {\n      value: 1\n    });\n  }\n  /**\n   * the function which maps the waveshaper\n   * @param exponent exponent value\n   */\n\n\n  _expFunc(exponent) {\n    return val => {\n      return Math.pow(Math.abs(val), exponent);\n    };\n  }\n  /**\n   * The value of the exponent.\n   */\n\n\n  get value() {\n    return this._exponent;\n  }\n\n  set value(exponent) {\n    this._exponent = exponent;\n\n    this._exponentScaler.setMap(this._expFunc(this._exponent));\n  }\n  /**\n   * Clean up.\n   */\n\n\n  dispose() {\n    super.dispose();\n\n    this._exponentScaler.dispose();\n\n    return this;\n  }\n\n}","map":{"version":3,"sources":["../../../Tone/signal/Pow.ts"],"names":[],"mappings":"AAAA,SAAS,UAAT,QAAgD,cAAhD;AACA,SAAS,oBAAT,QAAqC,uBAArC;AACA,SAAS,cAAT,QAA+B,kBAA/B;AAOA;;;;;;;;AAQG;;AACH,OAAM,MAAO,GAAP,SAAmB,cAAnB,CAA6C;AAiBlD,EAAA,WAAA,GAAA;AACC,UAAM,MAAM,CAAC,MAAP,CAAc,oBAAoB,CAAC,GAAG,CAAC,WAAJ,EAAD,EAAoB,SAApB,EAA+B,CAAC,OAAD,CAA/B,CAAlC,CAAN;AAhBQ,SAAA,IAAA,GAAe,KAAf;AAiBR,UAAM,OAAO,GAAG,oBAAoB,CAAC,GAAG,CAAC,WAAJ,EAAD,EAAoB,SAApB,EAA+B,CAAC,OAAD,CAA/B,CAApC;AAEA,SAAK,eAAL,GAAuB,KAAK,KAAL,GAAa,KAAK,MAAL,GAAc,IAAI,UAAJ,CAAe;AAChE,MAAA,OAAO,EAAE,KAAK,OADkD;AAEhE,MAAA,OAAO,EAAE,KAAK,QAAL,CAAc,OAAO,CAAC,KAAtB,CAFuD;AAGhE,MAAA,MAAM,EAAE;AAHwD,KAAf,CAAlD;AAMA,SAAK,SAAL,GAAiB,OAAO,CAAC,KAAzB;AACA;;AAEiB,SAAX,WAAW,GAAA;AACjB,WAAO,MAAM,CAAC,MAAP,CAAc,cAAc,CAAC,WAAf,EAAd,EAA4C;AAClD,MAAA,KAAK,EAAE;AAD2C,KAA5C,CAAP;AAGA;AAED;;;AAGG;;;AACK,EAAA,QAAQ,CAAC,QAAD,EAAiB;AAChC,WAAQ,GAAD,IAAgB;AACtB,aAAO,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,GAAT,CAAT,EAAwB,QAAxB,CAAP;AACA,KAFD;AAGA;AAED;;AAEG;;;AACM,MAAL,KAAK,GAAA;AACR,WAAO,KAAK,SAAZ;AACA;;AACQ,MAAL,KAAK,CAAC,QAAD,EAAiB;AACzB,SAAK,SAAL,GAAiB,QAAjB;;AACA,SAAK,eAAL,CAAqB,MAArB,CAA4B,KAAK,QAAL,CAAc,KAAK,SAAnB,CAA5B;AACA;AAED;;AAEG;;;AACH,EAAA,OAAO,GAAA;AACN,UAAM,OAAN;;AACA,SAAK,eAAL,CAAqB,OAArB;;AACA,WAAO,IAAP;AACA;;AAhEiD","sourceRoot":"","sourcesContent":["import { WaveShaper } from \"./WaveShaper\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { SignalOperator } from \"./SignalOperator\";\n/**\n * Pow applies an exponent to the incoming signal. The incoming signal must be AudioRange [-1, 1]\n *\n * @example\n * const pow = new Tone.Pow(2);\n * const sig = new Tone.Signal(0.5).connect(pow);\n * // output of pow is 0.25.\n * @category Signal\n */\nexport class Pow extends SignalOperator {\n    constructor() {\n        super(Object.assign(optionsFromArguments(Pow.getDefaults(), arguments, [\"value\"])));\n        this.name = \"Pow\";\n        const options = optionsFromArguments(Pow.getDefaults(), arguments, [\"value\"]);\n        this._exponentScaler = this.input = this.output = new WaveShaper({\n            context: this.context,\n            mapping: this._expFunc(options.value),\n            length: 8192,\n        });\n        this._exponent = options.value;\n    }\n    static getDefaults() {\n        return Object.assign(SignalOperator.getDefaults(), {\n            value: 1,\n        });\n    }\n    /**\n     * the function which maps the waveshaper\n     * @param exponent exponent value\n     */\n    _expFunc(exponent) {\n        return (val) => {\n            return Math.pow(Math.abs(val), exponent);\n        };\n    }\n    /**\n     * The value of the exponent.\n     */\n    get value() {\n        return this._exponent;\n    }\n    set value(exponent) {\n        this._exponent = exponent;\n        this._exponentScaler.setMap(this._expFunc(this._exponent));\n    }\n    /**\n     * Clean up.\n     */\n    dispose() {\n        super.dispose();\n        this._exponentScaler.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=Pow.js.map"]},"metadata":{},"sourceType":"module"}