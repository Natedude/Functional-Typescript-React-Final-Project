{"ast":null,"code":"var _jsxFileName = \"/Users/nathanhildum/Documents/Programming/github/SFSU-CSC600/final-project-brute_force-600/client/src/instruments/matthewMadore_Instrument.tsx\",\n    _s = $RefreshSig$();\n\n// 3rd party library imports\nimport * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List, Range } from 'immutable'; //import React from 'react'\n\nimport React, { useState } from 'react'; // project imports\n\nimport { Instrument } from '../Instruments';\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Piano.\n ** ------------------------------------------------------------------------ */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// const backInBlack  = {\n//   Dchord: [\"D,\"Fsharp\",\"A\"],\n//   Anote: [\"A3\"],\n//   Echord\n//   Dnote: [\"D4\"] ,\n// } \nconst KeyOfDmajor = {\n  Achord: [\"D4\", \"Fsharp\", \"A2\"],\n  Bchord: [\"B\", \"D4\", \"Fsharp\"],\n  Cchord: [\"CarpNote\", \"E3\"],\n  Dchord: [\"A2\", \"D4\", \"Fsharp\"],\n  Echord: [\"E3\", \"B\"],\n  FsharpChord: [\"Fsharp\", \"A2\", \"CarpNote\"],\n  Anote: [\"A2\"],\n  Bnote: [\"B\"],\n  CsharpNote: [\"CSharpArpNote\"],\n  Dnote: [\"D4\"],\n  Enote: [\"E3\"],\n  FsharpNote: [\"Fsharp\"]\n};\nconst KeyOfAmajor = {\n  Dchord: [\"A3\", \"D4\"],\n  Anote: [\"A3\"],\n  Dnote: [\"D4\"]\n};\nlet noteToPlay;\n\nconst keyDownHandler = event => {\n  if (event.code === \"KeyZ\") {\n    console.log(\" keyDownHandler pressed\"); // noteToPlay = myNewKeys.Dchord\n    // sampler?.triggerAttack(myNewKeys.Dchord)\n\n    console.log(\" \");\n  } else if (event.code === \"KeyX\") {\n    console.log(\" keyUpHandler pressed\"); // sampler?.triggerAttack(myNewKeys.Anote)\n  }\n};\n\nexport function Button({\n  note,\n  synth,\n  minor,\n  octave,\n  index\n}) {\n  _s();\n\n  /**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */\n  // const polySynth = new Tone.PolySynth().toDestination();\n  // const synth2 = new Tone.Synth().toDestination();\n  const [sampler, setSampler] = useState(new Tone.Sampler({\n    urls: {\n      A2: \"FluteClean_A2.wav\",\n      Asharp3: \"FluteClean_Asharp3.wav\",\n      B: \"flute-sustain-b-note_B.wav\",\n      CarpNote: \"arpeggiated-hit-note-c_123bpm_C.wav\",\n      CSharpArpNote: \"arpeggiated-hit-note-c_123bpm_C#.wav\",\n      CSharpMinor: \"deepmind-keys-cm_118bpm_C#_minor.wav\",\n      C3: \"FluteClean_C3.wav\",\n      D4: \"FluteClean_D4.wav\",\n      E3: \"flute-sustain-vibrato-e-note.wav\",\n      Fsharp: \"FluteClean2_Fsharp2.wav\"\n    },\n    baseUrl: \"http://localhost:3000/\"\n  }).toDestination()); // if(myNewKeys.get(0)) {\n  //   var chordNotes = myNewKeys.get(0)?.chordNote\n  //   console.log(chordNotes)\n  // }\n  // let noteToPlay\n  // const keyDownHandler = (event: React.KeyboardEvent<HTMLInputElement>) => {\n  //   if (event.code === \"KeyZ\") {\n  //     console.log(\" keyDownHandler pressed\")\n  //     noteToPlay = myNewKeys.Dchord\n  //     // sampler?.triggerAttack(myNewKeys.Dchord)\n  //     console.log(\" \")\n  //   } else if (event.code === \"KeyX\") {\n  //     console.log(\" keyUpHandler pressed\")\n  //     sampler?.triggerAttack(myNewKeys.Anote)\n  //    }  \n  // };\n  // const keyUpHandler = (event: React.KeyboardEvent<HTMLInputElement>) => {\n  //   if (event.code === \"KeyZ\") {\n  //     console.log(\" keyUpHandler pressed\")\n  //   } else if (event.code === \"KeyX\") {\n  //     console.log(\" keyUpHandler pressed\")\n  //   }  \n\n  return (\n    /*#__PURE__*/\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    _jsxDEV(\"div\", {\n      // onMouseDown={() => sampler?.triggerAttack(`${noteToPlay}`)} // Question: what is `onMouseDown`? \n      // onMouseDown={keyDownHandler}\n      // onMouseUp={() => sampler?.triggerRelease([\"A3\",\"D4\"],'+0.20')} // Question: what is `onMouseUp`?\n      // onMouseDown={() => synth?.triggerAttack(`${note}`)} // Question: what is `onMouseDown`? \n      // onMouseUp={() => synth?.triggerRelease('+0.10')} // Question: what is `onMouseUp`?\n      // onKeyDown = { (e)=>sampler?.triggerRelease(`${note}`)}\n      // tabIndex={0}\n      // onKeyUp={ (e) => sampler?.triggerRelease(`${note}`,'+0.20')} \n      // onKeyDown = { () => sampler.triggerAttack('A3') }\n      // onKeyUp={() => sampler.triggerRelease('+0.25')}\n      className: classNames('ba pointer absolute dim blue', {\n        'bg-black blue h1': minor,\n        // minor keys are black\n        'yellow bg-red h1': !minor // major keys are white\n\n      }),\n      style: {\n        // CSS\n        top: `${octave * 2}rem`,\n        left: `${index % 7 * 2}rem`,\n        //backgroundImage: `url(\"Screen Shot 2021-12-03 at 9.10.24 PM.png\")`,\n        zIndex: minor ? 0 : 0,\n        width: minor ? '1.0rem' : '1rem',\n        marginLeft: minor ? '0.rem' : 0\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 5\n    }, this)\n  );\n} // eslint-disable-next-line\n\n_s(Button, \"pn0qZP8Ywxv7kooj9R2QWr9jyc0=\");\n\n_c = Button;\n\nfunction PianoKeyWithoutJSX({\n  note,\n  synth,\n  minor,\n  index\n}) {\n  /**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */\n  return /*#__PURE__*/React.createElement('div', {\n    onKeyDown: () => synth === null || synth === void 0 ? void 0 : synth.triggerAttack(`${'C2'}`),\n    onMouseDown: () => synth === null || synth === void 0 ? void 0 : synth.triggerAttack(`${note}`),\n    onMouseUp: () => synth === null || synth === void 0 ? void 0 : synth.triggerRelease('+0.25'),\n    onKeyUp: () => synth === null || synth === void 0 ? void 0 : synth.triggerRelease('+0.25'),\n    className: classNames('ba pointer absolute dim', {\n      'bg-black black h3': minor,\n      'black bg-white h4': !minor\n    }),\n    style: {\n      top: 0,\n      left: `${index * 2}rem`,\n      zIndex: minor ? 1 : 0,\n      width: minor ? '1.5rem' : '2rem',\n      marginLeft: minor ? '0.25rem' : 0\n    }\n  }, []);\n}\n\n_c2 = PianoKeyWithoutJSX;\n\nfunction PianoType({\n  title,\n  onClick,\n  active\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClick,\n    className: classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1 green', {\n      'b--yellow green': active,\n      'gray b--light-gray': !active\n    }),\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 5\n  }, this);\n}\n\n_c3 = PianoType;\n\nfunction Piano({\n  synth,\n  setSynth\n}) {\n  const keys = List([{\n    note: 'C',\n    idx: 0\n  }, {\n    note: 'Db',\n    idx: 0.5\n  }, {\n    note: 'D',\n    idx: 1\n  }, {\n    note: 'Eb',\n    idx: 1.5\n  }, {\n    note: 'E',\n    idx: 2\n  }, {\n    note: 'F',\n    idx: 3\n  }, {\n    note: 'Gb',\n    idx: 3.5\n  }, {\n    note: 'G',\n    idx: 4\n  }, {\n    note: 'Ab',\n    idx: 4.5\n  }, {\n    note: 'A',\n    idx: 5\n  }, {\n    note: 'Bb',\n    idx: 5.5\n  }, {\n    note: 'B',\n    idx: 6\n  }]);\n\n  const setOscillator = newType => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n      return new Tone.Synth({\n        oscillator: {\n          type: newType\n        }\n      }).toDestination();\n    });\n  };\n\n  const oscillators = List(['sine', 'sawtooth', 'square', 'triangle', 'fmsine', 'fmsawtooth', 'fmtriangle', 'amsine', 'amsawtooth', 'amtriangle']);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pv4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex-wrap h4 w-100 ml4\",\n      children: Range(2, 7).map(octave => keys.map(key => {\n        const isMinor = key.note.indexOf('b') !== -1;\n        const note = `${key.note}${octave}`;\n        return /*#__PURE__*/_jsxDEV(Button, {\n          //react key\n          note: note,\n          synth: synth,\n          minor: isMinor,\n          octave: octave,\n          index: (octave - 2) * 7 + key.idx\n        }, note, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 15\n        }, this);\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'pl4 pt4 flex',\n      children: oscillators.map(o => /*#__PURE__*/_jsxDEV(PianoType, {\n        title: o,\n        onClick: () => setOscillator(o),\n        active: (synth === null || synth === void 0 ? void 0 : synth.oscillator.type) === o\n      }, o, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this);\n}\n\n_c4 = Piano;\nexport const matthewMadore_Instrument = new Instrument('matthewMadore_Instrument', Piano);\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Button\");\n$RefreshReg$(_c2, \"PianoKeyWithoutJSX\");\n$RefreshReg$(_c3, \"PianoType\");\n$RefreshReg$(_c4, \"Piano\");","map":{"version":3,"sources":["/Users/nathanhildum/Documents/Programming/github/SFSU-CSC600/final-project-brute_force-600/client/src/instruments/matthewMadore_Instrument.tsx"],"names":["Tone","classNames","List","Range","React","useState","Instrument","KeyOfDmajor","Achord","Bchord","Cchord","Dchord","Echord","FsharpChord","Anote","Bnote","CsharpNote","Dnote","Enote","FsharpNote","KeyOfAmajor","noteToPlay","keyDownHandler","event","code","console","log","Button","note","synth","minor","octave","index","sampler","setSampler","Sampler","urls","A2","Asharp3","B","CarpNote","CSharpArpNote","CSharpMinor","C3","D4","E3","Fsharp","baseUrl","toDestination","top","left","zIndex","width","marginLeft","PianoKeyWithoutJSX","createElement","onKeyDown","triggerAttack","onMouseDown","onMouseUp","triggerRelease","onKeyUp","className","style","PianoType","title","onClick","active","Piano","setSynth","keys","idx","setOscillator","newType","oldSynth","disconnect","Synth","oscillator","type","oscillators","map","key","isMinor","indexOf","o","matthewMadore_Instrument"],"mappings":";;;AAAA;AACA,OAAO,KAAKA,IAAZ,MAAsB,MAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,IAAT,EAAeC,KAAf,QAA4B,WAA5B,C,CACA;;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC,C,CAGA;;AACA,SAASC,UAAT,QAA4C,gBAA5C;AAEA;AACA;AACA;;;AAWA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,MAAM,EAAE,CAAC,IAAD,EAAO,QAAP,EAAiB,IAAjB,CADU;AAElBC,EAAAA,MAAM,EAAE,CAAC,GAAD,EAAM,IAAN,EAAY,QAAZ,CAFU;AAGlBC,EAAAA,MAAM,EAAE,CAAE,UAAF,EAAc,IAAd,CAHU;AAIlBC,EAAAA,MAAM,EAAE,CAAC,IAAD,EAAM,IAAN,EAAW,QAAX,CAJU;AAKlBC,EAAAA,MAAM,EAAE,CAAE,IAAF,EAAO,GAAP,CALU;AAMlBC,EAAAA,WAAW,EAAC,CAAC,QAAD,EAAW,IAAX,EAAiB,UAAjB,CANM;AAOlBC,EAAAA,KAAK,EAAE,CAAC,IAAD,CAPW;AAQlBC,EAAAA,KAAK,EAAE,CAAC,GAAD,CARW;AASlBC,EAAAA,UAAU,EAAE,CAAC,eAAD,CATM;AAUlBC,EAAAA,KAAK,EAAE,CAAC,IAAD,CAVW;AAWlBC,EAAAA,KAAK,EAAE,CAAC,IAAD,CAXW;AAYlBC,EAAAA,UAAU,EAAE,CAAC,QAAD;AAZM,CAApB;AAgBA,MAAMC,WAAW,GAAE;AACjBT,EAAAA,MAAM,EAAE,CAAC,IAAD,EAAM,IAAN,CADS;AAEjBG,EAAAA,KAAK,EAAE,CAAC,IAAD,CAFU;AAGjBG,EAAAA,KAAK,EAAE,CAAC,IAAD;AAHU,CAAnB;AAKA,IAAII,UAAJ;;AACE,MAAMC,cAAc,GAAIC,KAAD,IAAkD;AACvE,MAAIA,KAAK,CAACC,IAAN,KAAe,MAAnB,EAA2B;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EADyB,CAE1B;AACC;;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACD,GALD,MAKO,IAAIH,KAAK,CAACC,IAAN,KAAe,MAAnB,EAA2B;AAChCC,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EADgC,CAEjC;AACC;AAEH,CAXD;;AAaF,OAAO,SAASC,MAAT,CAAiB;AACtBC,EAAAA,IADsB;AAEtBC,EAAAA,KAFsB;AAGtBC,EAAAA,KAHsB;AAItBC,EAAAA,MAJsB;AAKtBC,EAAAA;AALsB,CAAjB,EAMsB;AAAA;;AAC3B;AACF;AACA;AACA;AAEE;AACA;AAEA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwB7B,QAAQ,CACpC,IAAIL,IAAI,CAACmC,OAAT,CAAiB;AACfC,IAAAA,IAAI,EAAE;AACJC,MAAAA,EAAE,EAAE,mBADA;AAEJC,MAAAA,OAAO,EAAE,wBAFL;AAGJC,MAAAA,CAAC,EAAE,4BAHC;AAIJC,MAAAA,QAAQ,EAAE,qCAJN;AAKJC,MAAAA,aAAa,EAAE,sCALX;AAMJC,MAAAA,WAAW,EAAE,sCANT;AAOJC,MAAAA,EAAE,EAAE,mBAPA;AAQJC,MAAAA,EAAE,EAAE,mBARA;AASJC,MAAAA,EAAE,EAAE,kCATA;AAUJC,MAAAA,MAAM,EAAE;AAVJ,KADS;AAcfC,IAAAA,OAAO,EAAE;AAdM,GAAjB,EAeGC,aAfH,EADoC,CAAtC,CAT2B,CA6BzB;AACA;AACA;AACA;AAIF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;;AAEA;AAAA;AACE;AACA;AACA;AACA;AACA;AAEE;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA,MAAA,SAAS,EAAE/C,UAAU,CAAC,8BAAD,EAAiC;AACpD,4BAAoB6B,KADgC;AACzB;AAC3B,4BAAoB,CAACA,KAF+B,CAEzB;;AAFyB,OAAjC,CAfvB;AAmBE,MAAA,KAAK,EAAE;AACL;AACAmB,QAAAA,GAAG,EAAG,GAAElB,MAAM,GAAG,CAAE,KAFd;AAGLmB,QAAAA,IAAI,EAAG,GAAElB,KAAK,GAAC,CAAN,GAAU,CAAE,KAHhB;AAIL;AACAmB,QAAAA,MAAM,EAAErB,KAAK,GAAG,CAAH,GAAO,CALf;AAMLsB,QAAAA,KAAK,EAAEtB,KAAK,GAAG,QAAH,GAAc,MANrB;AAOLuB,QAAAA,UAAU,EAAEvB,KAAK,GAAG,OAAH,GAAa;AAPzB;AAnBT;AAAA;AAAA;AAAA;AAAA;AALF;AAmCD,C,CAED;;GAtGgBH,M;;KAAAA,M;;AAuGhB,SAAS2B,kBAAT,CAA6B;AAC3B1B,EAAAA,IAD2B;AAE3BC,EAAAA,KAF2B;AAG3BC,EAAAA,KAH2B;AAI3BE,EAAAA;AAJ2B,CAA7B,EAK6B;AAC3B;AACF;AACA;AACA;AACE,sBAAO5B,KAAK,CAACmD,aAAN,CACL,KADK,EAEL;AACEC,IAAAA,SAAS,EAAE,MAAM3B,KAAN,aAAMA,KAAN,uBAAMA,KAAK,CAAE4B,aAAP,CAAsB,GAAE,IAAK,EAA7B,CADnB;AAEEC,IAAAA,WAAW,EAAE,MAAM7B,KAAN,aAAMA,KAAN,uBAAMA,KAAK,CAAE4B,aAAP,CAAsB,GAAE7B,IAAK,EAA7B,CAFrB;AAGE+B,IAAAA,SAAS,EAAE,MAAM9B,KAAN,aAAMA,KAAN,uBAAMA,KAAK,CAAE+B,cAAP,CAAsB,OAAtB,CAHnB;AAIEC,IAAAA,OAAO,EAAE,MAAMhC,KAAN,aAAMA,KAAN,uBAAMA,KAAK,CAAE+B,cAAP,CAAsB,OAAtB,CAJjB;AAKEE,IAAAA,SAAS,EAAE7D,UAAU,CAAC,yBAAD,EAA4B;AAC/C,2BAAqB6B,KAD0B;AAE/C,2BAAqB,CAACA;AAFyB,KAA5B,CALvB;AASEiC,IAAAA,KAAK,EAAE;AACLd,MAAAA,GAAG,EAAE,CADA;AAELC,MAAAA,IAAI,EAAG,GAAElB,KAAK,GAAG,CAAE,KAFd;AAGLmB,MAAAA,MAAM,EAAErB,KAAK,GAAG,CAAH,GAAO,CAHf;AAILsB,MAAAA,KAAK,EAAEtB,KAAK,GAAG,QAAH,GAAc,MAJrB;AAKLuB,MAAAA,UAAU,EAAEvB,KAAK,GAAG,SAAH,GAAe;AAL3B;AATT,GAFK,EAmBL,EAnBK,CAAP;AAqBD;;MA/BQwB,kB;;AAiCT,SAASU,SAAT,CAAoB;AAAEC,EAAAA,KAAF;AAASC,EAAAA,OAAT;AAAkBC,EAAAA;AAAlB,CAApB,EAAkE;AAChE,sBACE;AACE,IAAA,OAAO,EAAED,OADX;AAEE,IAAA,SAAS,EAAEjE,UAAU,CAAC,8CAAD,EAAiD;AACpE,yBAAmBkE,MADiD;AAEpE,4BAAsB,CAACA;AAF6C,KAAjD,CAFvB;AAAA,cAOGF;AAPH;AAAA;AAAA;AAAA;AAAA,UADF;AAWD;;MAZQD,S;;AAcT,SAASI,KAAT,CAAgB;AAAEvC,EAAAA,KAAF;AAASwC,EAAAA;AAAT,CAAhB,EAAmE;AACjE,QAAMC,IAAI,GAAGpE,IAAI,CAAC,CAChB;AAAE0B,IAAAA,IAAI,EAAE,GAAR;AAAa2C,IAAAA,GAAG,EAAE;AAAlB,GADgB,EAEhB;AAAE3C,IAAAA,IAAI,EAAE,IAAR;AAAc2C,IAAAA,GAAG,EAAE;AAAnB,GAFgB,EAGhB;AAAE3C,IAAAA,IAAI,EAAE,GAAR;AAAa2C,IAAAA,GAAG,EAAE;AAAlB,GAHgB,EAIhB;AAAE3C,IAAAA,IAAI,EAAE,IAAR;AAAc2C,IAAAA,GAAG,EAAE;AAAnB,GAJgB,EAKhB;AAAE3C,IAAAA,IAAI,EAAE,GAAR;AAAa2C,IAAAA,GAAG,EAAE;AAAlB,GALgB,EAMhB;AAAE3C,IAAAA,IAAI,EAAE,GAAR;AAAa2C,IAAAA,GAAG,EAAE;AAAlB,GANgB,EAOhB;AAAE3C,IAAAA,IAAI,EAAE,IAAR;AAAc2C,IAAAA,GAAG,EAAE;AAAnB,GAPgB,EAQhB;AAAE3C,IAAAA,IAAI,EAAE,GAAR;AAAa2C,IAAAA,GAAG,EAAE;AAAlB,GARgB,EAShB;AAAE3C,IAAAA,IAAI,EAAE,IAAR;AAAc2C,IAAAA,GAAG,EAAE;AAAnB,GATgB,EAUhB;AAAE3C,IAAAA,IAAI,EAAE,GAAR;AAAa2C,IAAAA,GAAG,EAAE;AAAlB,GAVgB,EAWhB;AAAE3C,IAAAA,IAAI,EAAE,IAAR;AAAc2C,IAAAA,GAAG,EAAE;AAAnB,GAXgB,EAYhB;AAAE3C,IAAAA,IAAI,EAAE,GAAR;AAAa2C,IAAAA,GAAG,EAAE;AAAlB,GAZgB,CAAD,CAAjB;;AAeA,QAAMC,aAAa,GAAIC,OAAD,IAAsC;AAC1DJ,IAAAA,QAAQ,CAACK,QAAQ,IAAI;AACnBA,MAAAA,QAAQ,CAACC,UAAT;AAEA,aAAO,IAAI3E,IAAI,CAAC4E,KAAT,CAAe;AACpBC,QAAAA,UAAU,EAAE;AAAEC,UAAAA,IAAI,EAAEL;AAAR;AADQ,OAAf,EAEJzB,aAFI,EAAP;AAGD,KANO,CAAR;AAOD,GARD;;AAUA,QAAM+B,WAAiC,GAAG7E,IAAI,CAAC,CAC7C,MAD6C,EAE7C,UAF6C,EAG7C,QAH6C,EAI7C,UAJ6C,EAK7C,QAL6C,EAM7C,YAN6C,EAO7C,YAP6C,EAQ7C,QAR6C,EAS7C,YAT6C,EAU7C,YAV6C,CAAD,CAA9C;AAaA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA,gBACGC,KAAK,CAAC,CAAD,EAAI,CAAJ,CAAL,CAAY6E,GAAZ,CAAgBjD,MAAM,IACrBuC,IAAI,CAACU,GAAL,CAASC,GAAG,IAAI;AACd,cAAMC,OAAO,GAAGD,GAAG,CAACrD,IAAJ,CAASuD,OAAT,CAAiB,GAAjB,MAA0B,CAAC,CAA3C;AACA,cAAMvD,IAAI,GAAI,GAAEqD,GAAG,CAACrD,IAAK,GAAEG,MAAO,EAAlC;AACA,4BACE,QAAC,MAAD;AACa;AACX,UAAA,IAAI,EAAEH,IAFR;AAGE,UAAA,KAAK,EAAEC,KAHT;AAIE,UAAA,KAAK,EAAEqD,OAJT;AAKE,UAAA,MAAM,EAAEnD,MALV;AAME,UAAA,KAAK,EAAE,CAACA,MAAM,GAAG,CAAV,IAAe,CAAf,GAAmBkD,GAAG,CAACV;AANhC,WACO3C,IADP;AAAA;AAAA;AAAA;AAAA,gBADF;AAUD,OAbD,CADD;AADH;AAAA;AAAA;AAAA;AAAA,YADF,eAmBE;AAAK,MAAA,SAAS,EAAE,cAAhB;AAAA,gBAEGmD,WAAW,CAACC,GAAZ,CAAgBI,CAAC,iBAChB,QAAC,SAAD;AAEE,QAAA,KAAK,EAAEA,CAFT;AAGE,QAAA,OAAO,EAAE,MAAMZ,aAAa,CAACY,CAAD,CAH9B;AAIE,QAAA,MAAM,EAAE,CAAAvD,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEgD,UAAP,CAAkBC,IAAlB,MAA2BM;AAJrC,SACOA,CADP;AAAA;AAAA;AAAA;AAAA,cADD;AAFH;AAAA;AAAA;AAAA;AAAA,YAnBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiCD;;MAxEQhB,K;AA0ET,OAAO,MAAMiB,wBAAwB,GAAG,IAAI/E,UAAJ,CACtC,0BADsC,EAEtC8D,KAFsC,CAAjC","sourcesContent":["// 3rd party library imports\nimport * as Tone from 'tone'\nimport classNames from 'classnames'\nimport { List, Range } from 'immutable'\n//import React from 'react'\nimport React, { useState } from 'react'\n\n\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments'\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Piano.\n ** ------------------------------------------------------------------------ */\n\ninterface ButtonProps {\n  note: string // C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B\n  duration?: string\n  synth?: Tone.Synth // Contains library code for making sound\n  minor?: boolean // True if minor key, false if major key\n  octave: number\n  index: number // octave + index together give a location for the piano key\n  // sampler: Tone.Sampler\n}\n// const backInBlack  = {\n//   Dchord: [\"D,\"Fsharp\",\"A\"],\n//   Anote: [\"A3\"],\n//   Echord\n//   Dnote: [\"D4\"] ,\n// } \n\nconst KeyOfDmajor = {\n  Achord: [\"D4\", \"Fsharp\", \"A2\"],\n  Bchord: [\"B\", \"D4\", \"Fsharp\"], \n  Cchord: [ \"CarpNote\", \"E3\"], \n  Dchord: [\"A2\",\"D4\",\"Fsharp\" ],\n  Echord: [ \"E3\",\"B\" ], \n  FsharpChord:[\"Fsharp\", \"A2\", \"CarpNote\"],\n  Anote: [\"A2\"],\n  Bnote: [\"B\"],\n  CsharpNote: [\"CSharpArpNote\"],\n  Dnote: [\"D4\"],\n  Enote: [\"E3\"],\n  FsharpNote: [\"Fsharp\"],\n\n}\n\nconst KeyOfAmajor= {\n  Dchord: [\"A3\",\"D4\"],\n  Anote: [\"A3\"],\n  Dnote: [\"D4\"] ,\n}\nlet noteToPlay\n  const keyDownHandler = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.code === \"KeyZ\") {\n      console.log(\" keyDownHandler pressed\")\n     // noteToPlay = myNewKeys.Dchord\n      // sampler?.triggerAttack(myNewKeys.Dchord)\n      console.log(\" \")\n    } else if (event.code === \"KeyX\") {\n      console.log(\" keyUpHandler pressed\")\n     // sampler?.triggerAttack(myNewKeys.Anote)\n     }  \n    \n  };\n\nexport function Button ({\n  note,\n  synth,\n  minor,\n  octave,\n  index\n}: ButtonProps): JSX.Element {\n  /**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */\n\n  // const polySynth = new Tone.PolySynth().toDestination();\n  // const synth2 = new Tone.Synth().toDestination();\n\n  const [sampler, setSampler] = useState(\n    new Tone.Sampler({\n      urls: {\n        A2: \"FluteClean_A2.wav\",\n        Asharp3: \"FluteClean_Asharp3.wav\",\n        B: \"flute-sustain-b-note_B.wav\",\n        CarpNote: \"arpeggiated-hit-note-c_123bpm_C.wav\",\n        CSharpArpNote: \"arpeggiated-hit-note-c_123bpm_C#.wav\",\n        CSharpMinor: \"deepmind-keys-cm_118bpm_C#_minor.wav\",\n        C3: \"FluteClean_C3.wav\",\n        D4: \"FluteClean_D4.wav\",\n        E3: \"flute-sustain-vibrato-e-note.wav\",\n        Fsharp: \"FluteClean2_Fsharp2.wav\",\n      },\n\n      baseUrl: \"http://localhost:3000/\"\n    }).toDestination()\n  );\n\n      \n    // if(myNewKeys.get(0)) {\n    //   var chordNotes = myNewKeys.get(0)?.chordNote\n    //   console.log(chordNotes)\n    // }\n   \n    \n  \n  // let noteToPlay\n  // const keyDownHandler = (event: React.KeyboardEvent<HTMLInputElement>) => {\n  //   if (event.code === \"KeyZ\") {\n  //     console.log(\" keyDownHandler pressed\")\n  //     noteToPlay = myNewKeys.Dchord\n  //     // sampler?.triggerAttack(myNewKeys.Dchord)\n  //     console.log(\" \")\n  //   } else if (event.code === \"KeyX\") {\n  //     console.log(\" keyUpHandler pressed\")\n  //     sampler?.triggerAttack(myNewKeys.Anote)\n  //    }  \n    \n  // };\n\n  // const keyUpHandler = (event: React.KeyboardEvent<HTMLInputElement>) => {\n  //   if (event.code === \"KeyZ\") {\n  //     console.log(\" keyUpHandler pressed\")\n\n  //   } else if (event.code === \"KeyX\") {\n  //     console.log(\" keyUpHandler pressed\")\n    \n  //   }  \n\n  return (\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    <div\n\n      // onMouseDown={() => sampler?.triggerAttack(`${noteToPlay}`)} // Question: what is `onMouseDown`? \n      // onMouseDown={keyDownHandler}\n      // onMouseUp={() => sampler?.triggerRelease([\"A3\",\"D4\"],'+0.20')} // Question: what is `onMouseUp`?\n\n      // onMouseDown={() => synth?.triggerAttack(`${note}`)} // Question: what is `onMouseDown`? \n      // onMouseUp={() => synth?.triggerRelease('+0.10')} // Question: what is `onMouseUp`?\n      \n      // onKeyDown = { (e)=>sampler?.triggerRelease(`${note}`)}\n      // tabIndex={0}\n      // onKeyUp={ (e) => sampler?.triggerRelease(`${note}`,'+0.20')} \n      // onKeyDown = { () => sampler.triggerAttack('A3') }\n      // onKeyUp={() => sampler.triggerRelease('+0.25')}\n\n      className={classNames('ba pointer absolute dim blue', {\n        'bg-black blue h1': minor, // minor keys are black\n        'yellow bg-red h1': !minor // major keys are white\n      })}\n      style={{\n        // CSS\n        top: `${octave * 2}rem`,\n        left: `${index%7 * 2}rem`,\n        //backgroundImage: `url(\"Screen Shot 2021-12-03 at 9.10.24 PM.png\")`,\n        zIndex: minor ? 0 : 0,\n        width: minor ? '1.0rem' : '1rem',\n        marginLeft: minor ? '0.rem' : 0\n      }}\n    ></div>\n  )\n}\n\n// eslint-disable-next-line\nfunction PianoKeyWithoutJSX ({\n  note,\n  synth,\n  minor,\n  index\n}: ButtonProps): JSX.Element {\n  /**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */\n  return React.createElement(\n    'div',\n    {\n      onKeyDown: () => synth?.triggerAttack(`${'C2'}`),\n      onMouseDown: () => synth?.triggerAttack(`${note}`),\n      onMouseUp: () => synth?.triggerRelease('+0.25'),\n      onKeyUp: () => synth?.triggerRelease('+0.25'),\n      className: classNames('ba pointer absolute dim', {\n        'bg-black black h3': minor,\n        'black bg-white h4': !minor\n      }),\n      style: {\n        top: 0,\n        left: `${index * 2}rem`,\n        zIndex: minor ? 1 : 0,\n        width: minor ? '1.5rem' : '2rem',\n        marginLeft: minor ? '0.25rem' : 0\n      }\n    },\n    []\n  )\n}\n\nfunction PianoType ({ title, onClick, active }: any): JSX.Element {\n  return (\n    <div\n      onClick={onClick}\n      className={classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1 green', {\n        'b--yellow green': active,\n        'gray b--light-gray': !active\n      })}\n    >\n      {title}\n    </div>\n  )\n}\n\nfunction Piano ({ synth, setSynth }: InstrumentProps): JSX.Element {\n  const keys = List([\n    { note: 'C', idx: 0 },\n    { note: 'Db', idx: 0.5 },\n    { note: 'D', idx: 1 },\n    { note: 'Eb', idx: 1.5 },\n    { note: 'E', idx: 2 },\n    { note: 'F', idx: 3 },\n    { note: 'Gb', idx: 3.5 },\n    { note: 'G', idx: 4 },\n    { note: 'Ab', idx: 4.5 },\n    { note: 'A', idx: 5 },\n    { note: 'Bb', idx: 5.5 },\n    { note: 'B', idx: 6 }\n  ])\n\n  const setOscillator = (newType: Tone.ToneOscillatorType) => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect()\n\n      return new Tone.Synth({\n        oscillator: { type: newType } as Tone.OmniOscillatorOptions\n      }).toDestination()\n    })\n  }\n\n  const oscillators: List<OscillatorType> = List([\n    'sine',\n    'sawtooth',\n    'square',\n    'triangle',\n    'fmsine',\n    'fmsawtooth',\n    'fmtriangle',\n    'amsine',\n    'amsawtooth',\n    'amtriangle'\n  ]) as List<OscillatorType>\n\n  return (\n    <div className='pv4'>\n      <div className='relative flex-wrap h4 w-100 ml4'>\n        {Range(2, 7).map(octave =>\n          keys.map(key => {\n            const isMinor = key.note.indexOf('b') !== -1\n            const note = `${key.note}${octave}`\n            return (\n              <Button\n                key={note} //react key\n                note={note}\n                synth={synth}\n                minor={isMinor}\n                octave={octave}\n                index={(octave - 2) * 7 + key.idx}\n              />\n            )\n          })\n        )}\n      </div>\n      <div className={'pl4 pt4 flex'}>\n\n        {oscillators.map(o => (\n          <PianoType\n            key={o}\n            title={o}\n            onClick={() => setOscillator(o)}\n            active={synth?.oscillator.type === o}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport const matthewMadore_Instrument = new Instrument(\n  'matthewMadore_Instrument',\n  Piano\n)\n"]},"metadata":{},"sourceType":"module"}